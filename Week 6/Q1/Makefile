# Define the C Compiler Used
CC = gcc

# Define the lexical analyser used
LEX = flex

# Define the compiler used
YACC = bison -d

# Define the name of the created C file by Lex
LFILE = Q1.c

# Define the Yacc file 
YFILE = Q1.y

# Define the header file generated by Yacc
YHEADER = Q1.tab.h

# Define the name of the final C file to compile
CFILE = Q1.tab.c

# Convert the Lex file into C code
%.c: %.l
	@$(LEX) -o $@ $<

# Convert the Yacc file into C code
$(YHEADER): $(YFILE)
	@$(YACC) $<

# Create the executable file
main: $(LFILE) $(YHEADER)
	@$(CC) -o $@ $(CFILE)

# Clean up generated files
.PHONY: clean
clean:
	@rm main *.c *.h